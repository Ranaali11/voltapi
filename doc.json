{
    "openapi": "3.0.0",
    "info": {
        "title": "Scooter TCP API",
        "version": "1.0.0",
        "description": "API documentation for controlling and tracking 3-wheel scooters."
    },
    "servers": [
        {
            "url": "http://localhost:5000",
            "description": "Local Dev Server"
        }
    ],
    "paths": {
        "/api/scooter/start": {
            "post": {
                "summary": "Start (unlock) scooter",
                "description": "Sends R0 + L0 command to unlock scooter.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "imei"
                                ],
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Scooter unlocked"
                    }
                }
            }
        },
        "/api/scooter/stop": {
            "post": {
                "summary": "Stop (lock) scooter",
                "description": "Sends R0 + L1 command to lock scooter.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "imei"
                                ],
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Scooter locked"
                    }
                }
            }
        },
        "/api/scooter/gps": {
            "post": {
                "summary": "Get one-time GPS location (D0)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "One-time location data"
                    }
                }
            }
        },
        "/api/scooter/gps-track": {
            "post": {
                "summary": "Start GPS tracking (D1)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "GPS tracking started"
                    }
                }
            }
        },
        "/api/scooter/stop-track": {
            "post": {
                "summary": "Stop GPS tracking",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "GPS tracking stopped"
                    }
                }
            }
        },
        "/api/scooter/iot-settings": {
            "post": {
                "summary": "Apply IOT device settings (S5)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "imei",
                                    "data"
                                ],
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    },
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "IOT settings applied"
                    }
                }
            }
        },
        "/api/scooter/info": {
            "post": {
                "summary": "Get scooter info (S6)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Scooter info returned"
                    }
                }
            }
        },
        "/api/scooter/setting1": {
            "post": {
                "summary": "Apply setting instruction 1 (S7)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "imei",
                                    "data"
                                ],
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    },
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Setting 1 applied"
                    }
                }
            }
        },
        "/api/scooter/setting2": {
            "post": {
                "summary": "Apply setting instruction 2 (S4)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "imei",
                                    "data"
                                ],
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    },
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Setting 2 applied"
                    }
                }
            }
        },
        "/api/scooter/alarm": {
            "post": {
                "summary": "Trigger alarm (W0)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Alarm command sent"
                    }
                }
            }
        },
        "/api/scooter/beep": {
            "post": {
                "summary": "Play beep (V0)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Beep command sent"
                    }
                }
            }
        },
        "/api/scooter/firmware": {
            "post": {
                "summary": "Get firmware version (G0)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Firmware info received"
                    }
                }
            }
        },
        "/api/scooter/fault": {
            "post": {
                "summary": "Upload controller fault (E0)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "imei",
                                    "data"
                                ],
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    },
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Fault uploaded"
                    }
                }
            }
        },
        "/api/scooter/upgrade-check": {
            "post": {
                "summary": "Detect upgrade (U0)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Upgrade check completed"
                    }
                }
            }
        },
        "/api/scooter/upgrade-data": {
            "post": {
                "summary": "Send upgrade data (U1)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    },
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Upgrade data sent"
                    }
                }
            }
        },
        "/api/scooter/upgrade-ok": {
            "post": {
                "summary": "Notify upgrade complete (U2)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Upgrade success acknowledged"
                    }
                }
            }
        },
        "/api/scooter/ble-key": {
            "post": {
                "summary": "Set or get BLE key (K0)",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "imei": {
                                        "type": "string"
                                    },
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "BLE key operation complete"
                    }
                }
            }
        }
    },
    "components": {},
    "tags": []
}